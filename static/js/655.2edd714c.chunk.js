"use strict";(self.webpackChunkwissen_dashboard=self.webpackChunkwissen_dashboard||[]).push([[655],{2987:function(e,t,n){var r=n(8588),a=n(2492),i=n(1153),o=n(5239),s=n(184);t.Z=function(){return(0,s.jsx)(r.Z,{children:(0,s.jsx)(a.Z,{children:(0,s.jsxs)(i.ZP,{container:!0,direction:"column",children:[(0,s.jsx)(i.ZP,{item:!0,children:(0,s.jsxs)(i.ZP,{container:!0,justifyContent:"space-between",children:[(0,s.jsx)(i.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"rectangular",width:44,height:44})}),(0,s.jsx)(i.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"rectangular",width:34,height:34})})]})}),(0,s.jsx)(i.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"rectangular",sx:{my:2},height:40})}),(0,s.jsx)(i.ZP,{item:!0,children:(0,s.jsx)(o.Z,{variant:"rectangular",height:30})})]})})})}},3655:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(5861),a=n(9439),i=n(4687),o=n.n(i),s=n(2791),l=n(1153),c=n(1413),u=n(4942),h=n(4554),d=n(220),f=n(5849),g=n(4567),x=n(6934),p=n(3967),m=n(4015),v=n(2987),y=n(5925),Z=n(184),j=(0,x.ZP)(m.Z)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.dark,cursor:"pointer",color:"#fff",overflow:"hidden",position:"relative","&>div":{position:"relative",zIndex:5},"&:after":(0,u.Z)({content:'""',position:"absolute",width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",zIndex:1,top:-85,right:-95},t.breakpoints.down("sm"),{top:-105,right:-140}),"&:before":(0,u.Z)({content:'""',position:"absolute",zIndex:1,width:210,height:210,background:t.palette.primary[800],borderRadius:"50%",top:-125,right:-15,opacity:.5},t.breakpoints.down("sm"),{top:-155,right:-70})}})),b=function(e){var t=e.isLoading,n=e.btn1,r=e.btn2,i=e.btn1Text,o=e.btn2Text,u=e.cardText,x=e.toogleMode,m=(0,p.Z)(),b=(0,s.useState)(!1),w=(0,a.Z)(b,2),D=w[0],P=w[1],A=function(e,t){P(t)};return console.log({isLoading:t,btn2:r}),(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)(v.Z,{}):(0,Z.jsx)(j,{border:!1,content:!1,children:(0,Z.jsx)(h.Z,{sx:{p:2.25},onClick:function(){"Quizzes"===u?x("quizes"):"Leagues"===u&&x("leagues")},children:(0,Z.jsxs)(l.ZP,{container:!0,direction:"column",children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(d.Z,{variant:"rounded",sx:(0,c.Z)((0,c.Z)((0,c.Z)({},m.typography.commonAvatar),m.typography.largeAvatar),{},{backgroundColor:m.palette.primary[800],color:"#fff",mt:1}),children:"Quizzes"===u?(0,Z.jsx)(y.mhH,{fontSize:"inherit"}):(0,Z.jsx)(y.xVz,{fontSize:"inherit"})})}),(0,Z.jsxs)(l.ZP,{item:!0,children:[(0,Z.jsx)(f.Z,{disableElevation:!0,variant:D?"contained":"text",size:"small",sx:{color:"inherit"},onClick:function(e){return A(0,!0)},children:i}),(0,Z.jsx)(f.Z,{disableElevation:!0,variant:D?"text":"contained",size:"small",sx:{color:"inherit"},onClick:function(e){return A(0,!1)},children:o})]})]})}),(0,Z.jsx)(l.ZP,{item:!0,sx:{mb:.75},children:(0,Z.jsx)(l.ZP,{container:!0,alignItems:"center",children:(0,Z.jsx)(l.ZP,{item:!0,xs:6,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(l.ZP,{item:!0,children:D?(0,Z.jsx)(g.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:n}):(0,Z.jsx)(g.Z,{sx:{fontSize:"2.125rem",fontWeight:500,mr:1,mt:1.75,mb:.75},children:r})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(g.Z,{sx:{fontSize:"1rem",fontWeight:500,color:m.palette.primary[200]},children:u})})]})})})})]})})})})},w=n(3236),D=n(2411),P=n(4333),A=n(9900),z=n(8588),S=n(5239),k=function(){return(0,Z.jsx)(z.Z,{sx:{p:2},children:(0,Z.jsx)(w.Z,{sx:{py:0},children:(0,Z.jsxs)(D.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,Z.jsx)(P.Z,{children:(0,Z.jsx)(S.Z,{variant:"rectangular",width:44,height:44})}),(0,Z.jsx)(A.Z,{sx:{py:0},primary:(0,Z.jsx)(S.Z,{variant:"rectangular",height:20}),secondary:(0,Z.jsx)(S.Z,{variant:"text"})})]})})})},F=n(7756),M=(0,x.ZP)(m.Z)((function(e){var t=e.theme;return{backgroundColor:t.palette.primary.dark,cursor:"pointer",color:t.palette.primary.light,overflow:"hidden",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(210.04deg, ".concat(t.palette.primary[200]," -50.94%, rgba(144, 202, 249, 0) 83.49%)"),borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(140.9deg, ".concat(t.palette.primary[200]," -14.02%, rgba(144, 202, 249, 0) 77.58%)"),borderRadius:"50%",top:-160,right:-130}}})),T=function(e){var t=e.isLoading,n=e.users,r=e.toogleMode,a=e.onlineUsers,i=(0,p.Z)();return(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)(k,{}):(0,Z.jsx)(M,{border:!1,content:!1,children:(0,Z.jsx)(h.Z,{sx:{p:2},onClick:function(){r("users")},children:(0,Z.jsx)(w.Z,{sx:{py:0},children:(0,Z.jsxs)(D.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,Z.jsx)(P.Z,{children:(0,Z.jsx)(d.Z,{variant:"rounded",sx:(0,c.Z)((0,c.Z)((0,c.Z)({},i.typography.commonAvatar),i.typography.largeAvatar),{},{backgroundColor:i.palette.primary[800],color:"#fff"}),children:(0,Z.jsx)(F.Z,{fontSize:"inherit"})})}),(0,Z.jsx)(A.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,Z.jsx)(g.Z,{variant:"h4",sx:{color:"#fff"},children:n.length}),secondary:(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"primary.light",mt:.25},children:"Total Users"})}),(0,Z.jsx)(A.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,Z.jsx)(g.Z,{variant:"h4",sx:{color:"#fff"},children:n.filter((function(e){return!0===e.newUser})).length}),secondary:(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"primary.light",mt:.25},children:"New Users"})}),(0,Z.jsx)(A.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,Z.jsx)(g.Z,{variant:"h4",sx:{color:"#fff"},children:a}),secondary:(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"primary.light",mt:.25},children:"Online Users"})})]})})})})})},L=n(5429),C=(0,x.ZP)(m.Z)((function(e){var t=e.theme;return{overflow:"hidden",cursor:"pointer",position:"relative","&:after":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(210.04deg, ".concat(t.palette.warning.dark," -50.94%, rgba(144, 202, 249, 0) 83.49%)"),borderRadius:"50%",top:-30,right:-180},"&:before":{content:'""',position:"absolute",width:210,height:210,background:"linear-gradient(140.9deg, ".concat(t.palette.warning.dark," -14.02%, rgba(144, 202, 249, 0) 70.50%)"),borderRadius:"50%",top:-160,right:-130}}})),E=function(e){var t=e.isLoading,n=(0,p.Z)();return(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)(k,{}):(0,Z.jsx)(C,{border:!1,content:!1,children:(0,Z.jsx)(h.Z,{sx:{p:2},children:(0,Z.jsx)(w.Z,{sx:{py:0},children:(0,Z.jsxs)(D.ZP,{alignItems:"center",disableGutters:!0,sx:{py:0},children:[(0,Z.jsx)(P.Z,{children:(0,Z.jsx)(d.Z,{variant:"rounded",sx:(0,c.Z)((0,c.Z)((0,c.Z)({},n.typography.commonAvatar),n.typography.largeAvatar),{},{backgroundColor:n.palette.warning.light,color:n.palette.warning.dark}),children:(0,Z.jsx)(L.Z,{fontSize:"inherit"})})}),(0,Z.jsx)(A.Z,{sx:{py:0,mt:.45,mb:.45},primary:(0,Z.jsx)(g.Z,{variant:"h4",children:"$203k"}),secondary:(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:n.palette.grey[500],mt:.5},children:"Total Income"})})]})})})})})},Y=n(1923),Q=n(4975),W=n(6030),U=n(3006),R=n(2626),I=n(8700),O=n.n(I),J=n(3496),N=n(2492),H=function(){return(0,Z.jsx)(z.Z,{children:(0,Z.jsx)(N.Z,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(S.Z,{variant:"text"})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(S.Z,{variant:"rectangular",height:20})})]})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(S.Z,{variant:"rectangular",height:50,width:80})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(S.Z,{variant:"rectangular",height:530})})]})})})},q={height:480,type:"bar",options:{responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},legend:{show:!0,fontSize:"14px",fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:20,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0}}},G=[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}],B=function(e){var t=e.isLoading,n=e.quizes,r=(0,s.useState)("today"),i=(0,a.Z)(r,2),o=i[0],u=i[1],h=(0,p.Z)(),d=(0,W.v9)((function(e){return e.customization})),f=(0,s.useState)([]),x=(0,a.Z)(f,2),v=x[0],y=x[1],j=(0,s.useState)([]),b=(0,a.Z)(j,2),w=b[0],D=b[1],P=(0,s.useState)([]),A=(0,a.Z)(P,2),z=A[0],S=A[1],k=(0,s.useState)(n.filter((function(e){return"Live Quiz"===e.type}))),F=(0,a.Z)(k,2),M=F[0],T=F[1],L=(0,s.useState)([]),C=(0,a.Z)(L,2),E=C[0],Q=C[1],I=d.navType,N=h.palette.text.primary,B=h.palette.dark.light,X=h.palette.grey[200],_=h.palette.grey[500],V=h.palette.primary[200],$=h.palette.primary.dark,K=h.palette.secondary.main,ee=h.palette.secondary.light;(0,s.useEffect)((function(){var e=(0,c.Z)((0,c.Z)({},q.options),{},{colors:[V,$,K,ee],xaxis:{labels:{style:{colors:[N,N,N,N,N,N,N,N,N,N,N,N]}}},yaxis:{labels:{style:{colors:[N]}}},grid:{borderColor:X},tooltip:{theme:"light"},legend:{labels:{colors:_}}});t||O().exec("bar-chart","updateOptions",e)}),[I,V,$,K,ee,N,B,X,t,_]);var te=function(e,t){var n=Array(24).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(r)){var a=r.getHours();n[a]=n[a]+1,t(n)}else t(n)}})),y(["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"])},ne=function(e,t){var n=Array(7).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date,n=t.getDate(),r=t.getDay(),a=new Date(t.setDate(n-r)),i=new Date(a);return i.setDate(i.getDate()+6),e>=a&&e<=i}(r)){var a=r.getDay();n[a]=n[a]+1,t(n)}else t(n)}t(n)})),y(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},re=function(e,t){var n=new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate(),r=Array(n).fill(0),a=Array.from(Array(n+1).keys());e.length>0&&e.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if(function(e){var t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(n)){var a=n.getDate();r[a]=r[a]+1,t(r)}else t(r)}})),y(a)},ae=function(e,t){var n=Array(12).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date;return e.getFullYear()===t.getFullYear()}(r)){var a=r.getMonth();n[a]=n[a]+1,console.log({yaxis:n}),t(n)}else t(n)}t(n)})),y(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])};return(0,s.useEffect)((function(){var e=n.filter((function(e){return"Live Quiz"===e.type})),t=n.filter((function(e){return"Scheduled Quiz"===e.type})),r=n.filter((function(e){return"Play at Your Own Time Quiz"===e.type}));"today"===o?(te(n,Q),te(e,T),te(r,S),te(t,D)):"week"===o?(ne(n,Q),ne(t,D),ne(e,T),ne(r,S)):"month"===o?(re(n,Q),re(t,D),re(e,T),re(r,S)):(ae(n,Q),ae(t,D),ae(e,T),ae(r,S))}),[o]),(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)(H,{}):(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,direction:"column",spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"subtitle2",children:"Total Quizzes"})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"h3",children:n.length})})]})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(U.Z,{id:"standard-select-currency",select:!0,value:o,onChange:function(e){return u(e.target.value)},children:G.map((function(e){return(0,Z.jsx)(R.Z,{value:e.value,children:e.label},e.value)}))})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(J.Z,{height:q.height,type:q.type,options:(0,c.Z)((0,c.Z)({},q.options),{},{title:{text:"Quizzes Chart",align:"center",style:{fontSize:"20px",fontWeight:600,fontFamily:"'Roboto',sans-serif",color:"#2196f3"}},chart:{stacked:!0,toolbar:{show:!0,export:{csv:{filename:"Quizzes Data"},svg:{filename:"Quizzes Data"},png:{filename:"Quizzes Data"}}},zoom:{enabled:!0}},xaxis:{type:"category",categories:v,labels:{show:!0},title:{text:"".concat("today"===o?"Time":"week"===o?"Day":"month"===o?"Date":"Month"),style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}},yaxis:{show:!0,showAlways:!0,labels:{show:!0},title:{text:"Quizzes",style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}}}),series:[{name:"Quizzes",data:E},{name:"Scheduled",data:w},{name:"Play at your own",data:z},{name:"Live Quiz",data:M}]})})]})})})},X=[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}],_=function(e){var t,n=e.isLoading,r=e.users,i=e.onlineUsers,o=(0,s.useState)("today"),h=(0,a.Z)(o,2),d=h[0],f=h[1],x=(0,p.Z)(),v=(0,W.v9)((function(e){return e.customization})),y=(0,s.useState)([]),j=(0,a.Z)(y,2),b=j[0],w=j[1],D=(0,s.useState)([]),P=(0,a.Z)(D,2),A=P[0],z=P[1],S=(0,s.useState)([]),k=(0,a.Z)(S,2),F=k[0],M=k[1],T=(0,s.useState)(r.filter((function(e){return!0===e.newUser}))),L=(0,a.Z)(T,2),C=L[0],E=L[1],Q=v.navType,I=x.palette.text.primary,N=x.palette.dark.light,G=x.palette.grey[200],B=x.palette.grey[500],_=x.palette.primary[200],V=x.palette.primary.dark,$=x.palette.secondary.main,K=x.palette.secondary.light;(0,s.useEffect)((function(){var e=(0,c.Z)((0,c.Z)({},q.options),{},{colors:[_,V,$,K],xaxis:{labels:{style:{colors:[I,I,I,I,I,I,I,I,I,I,I,I]}}},yaxis:{labels:{style:{colors:[I]}}},grid:{borderColor:G},tooltip:{theme:"light"},legend:{labels:{colors:B}}});n||O().exec("bar-chart","updateOptions",e)}),[Q,_,V,$,K,I,N,G,n,B]);var ee=function(e,t){var n=Array(24).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(r)){var a=r.getHours();n[a]=n[a]+1,t(n)}else t(n)}})),w(["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"])},te=function(e,t){var n=Array(7).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date,n=t.getDate(),r=t.getDay(),a=new Date(t.setDate(n-r)),i=new Date(a);return i.setDate(i.getDate()+6),e>=a&&e<=i}(r)){var a=r.getDay();n[a]=n[a]+1,t(n)}else t(n)}t(n)})),w(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},ne=function(e,t){var n=new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate(),r=Array(n).fill(0),a=Array.from(Array(n+1).keys());e.length>0&&e.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if(function(e){var t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(n)){var a=n.getDate();r[a]=r[a]+1,t(r)}else t(r)}})),w(a)},re=function(e,t){var n=Array(12).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var r=new Date(e.createdAt);if(function(e){var t=new Date;return e.getFullYear()===t.getFullYear()}(r)){var a=r.getMonth();n[a]=n[a]+1,t(n)}else t(n)}t(n)})),w(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])};return(0,s.useEffect)((function(){var e=r.filter((function(e){return!0===e.newUser}));"today"===d?(ee(r,z),ee(e,E),ee(i,M)):"week"===d?(te(r,z),te(e,E),te(i,M)):"month"===d?(ne(r,z),ne(e,E),ne(i,M)):(re(r,z),re(e,E),re(i,M))}),[d]),(0,Z.jsx)(Z.Fragment,{children:n?(0,Z.jsx)(H,{}):(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,direction:"column",spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"subtitle2",children:"Total Users"})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"h3",children:r.length})})]})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(U.Z,{id:"standard-select-currency",select:!0,value:d,onChange:function(e){return f(e.target.value)},children:X.map((function(e){return(0,Z.jsx)(R.Z,{value:e.value,children:e.label},e.value)}))})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(J.Z,{height:q.height,type:q.type,options:(0,c.Z)((0,c.Z)({},q.options),{},(t={title:{text:"Users Chart",align:"center",style:{fontSize:"20px",fontWeight:600,fontFamily:"'Roboto',sans-serif",color:"#2196f3"}},chart:{stacked:!0,toolbar:{show:!0,export:{csv:{filename:"Users Data"},svg:{filename:"Users Data"},png:{filename:"Users Data"}}},zoom:{enabled:!0}},xaxis:{type:"category",categories:b}},(0,u.Z)(t,"xaxis",{type:"category",categories:b,labels:{show:!0},title:{text:"".concat("today"===d?"Time":"week"===d?"Day":"month"===d?"Date":"Month"),style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}}),(0,u.Z)(t,"yaxis",{show:!0,showAlways:!0,labels:{show:!0},title:{text:"Users",style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}}),t)),series:[{name:"Users",data:A},{name:"New Users",data:C},{name:"Online Users",data:F}]})})]})})})},V=[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"},{value:"year",label:"This Year"}],$=function(e){var t=e.isLoading,n=e.leagues,r=(0,s.useState)("today"),i=(0,a.Z)(r,2),o=i[0],u=i[1],h=(0,p.Z)(),d=(0,W.v9)((function(e){return e.customization})),f=(0,s.useState)([]),x=(0,a.Z)(f,2),v=x[0],y=x[1],j=(0,s.useState)([]),b=(0,a.Z)(j,2),w=b[0],D=b[1],P=(0,s.useState)([]),A=(0,a.Z)(P,2),z=(A[0],A[1],(0,s.useState)([])),S=(0,a.Z)(z,2),k=S[0],F=S[1],M=d.navType,T=h.palette.text.primary,L=h.palette.dark.light,C=h.palette.grey[200],E=h.palette.grey[500],Q=h.palette.primary[200],I=h.palette.primary.dark,N=h.palette.secondary.main,G=h.palette.secondary.light;(0,s.useEffect)((function(){var e=(0,c.Z)((0,c.Z)({},q.options),{},{colors:[Q,I,N,G],xaxis:{labels:{style:{colors:[T,T,T,T,T,T,T,T,T,T,T,T]}}},yaxis:{labels:{style:{colors:[T]}}},grid:{borderColor:C},tooltip:{theme:"light"},legend:{labels:{colors:E}}});t||O().exec("bar-chart","updateOptions",e)}),[M,Q,I,N,G,T,L,C,t,E]);var B=function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()};function X(e){var t=new Date,n=t.getDate(),r=t.getDay(),a=new Date(t.setDate(n-r)),i=new Date(a);return i.setDate(i.getDate()+6),e>=a&&e<=i}function _(e){var t=new Date;return e.getFullYear()===t.getFullYear()}function $(e){var t=new Date;return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}return(0,s.useEffect)((function(){"today"===o?(function(){var e=Array(24).fill(0);n.length>0&&n.forEach((function(t){if(t.createdAt){var n=new Date(t.createdAt);if(B(n)){var r=n.getHours();e[r]=e[r]+1,D(e)}else D(e)}})),y(["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"])}(),function(){var e=n.filter((function(e){return"Active"===e.status})),t=Array(24).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if(B(n)){var r=n.getHours();t[r]=t[r]+1,F(t)}else F(t)}})),y(["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","24:00"])}()):"week"===o?(function(){var e=Array(7).fill(0);n.length>0&&n.forEach((function(t){if(t.createdAt){var n=new Date(t.createdAt);if(X(n)){var r=n.getDay();e[r]=e[r]+1,D(e)}else D(e)}})),y(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])}(),function(){var e=n.filter((function(e){return"Active"===e.status})),t=Array(7).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if(X(n)){var r=n.getDay();t[r]=t[r]+1,F(t)}else F(t)}})),y(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])}()):"month"===o?(function(){var e=new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate(),t=Array(e).fill(0),r=Array.from(Array(e+1).keys());n.length>0&&n.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if($(n)){var r=n.getDate();t[r]=t[r]+1,D(t)}else D(t)}})),y(r)}(),function(){var e=n.filter((function(e){return"Active"===e.status})),t=new Date((new Date).getFullYear(),(new Date).getMonth(),0).getDate(),r=Array(t).fill(0),a=Array.from(Array(t+1).keys());e.length>0&&e.forEach((function(e){if(e.createdAt){var t=new Date(e.createdAt);if($(t)){var n=t.getDate();r[n]=r[n]+1,F(r)}else F(r)}})),y(a)}()):(function(){var e=Array(12).fill(0);n.length>0&&n.forEach((function(t){if(t.createdAt){var n=new Date(t.createdAt);if(_(n)){var r=n.getMonth();e[r]=e[r]+1,D(e)}else D(e)}})),y(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])}(),function(){var e=n.filter((function(e){return"Active"===e.status}));console.log({activeLeagues:e});var t=Array(12).fill(0);e.length>0&&e.forEach((function(e){if(e.createdAt){var n=new Date(e.createdAt);if(_(n)){var r=n.getMonth();t[r]=t[r]+1,F(t)}else F(t)}})),y(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])}())}),[o]),(0,Z.jsx)(Z.Fragment,{children:t?(0,Z.jsx)(H,{}):(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsxs)(l.ZP,{container:!0,direction:"column",spacing:1,children:[(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"subtitle2",children:"Total Leagues"})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(g.Z,{variant:"h3",children:n.length})})]})}),(0,Z.jsx)(l.ZP,{item:!0,children:(0,Z.jsx)(U.Z,{id:"standard-select-currency",select:!0,value:o,onChange:function(e){return u(e.target.value)},children:V.map((function(e){return(0,Z.jsx)(R.Z,{value:e.value,children:e.label},e.value)}))})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(J.Z,{height:q.height,type:q.type,options:(0,c.Z)((0,c.Z)({},q.options),{},{title:{text:"Leagues Chart",align:"center",style:{fontSize:"20px",fontWeight:600,fontFamily:"'Roboto',sans-serif",color:"#2196f3"}},chart:{stacked:!0,toolbar:{show:!0,export:{csv:{filename:"Leagues Data"},svg:{filename:"Leagues Data"},png:{filename:"Leagues Data"}}},zoom:{enabled:!0}},xaxis:{type:"category",categories:v,labels:{show:!0},title:{text:"".concat("today"===o?"Time":"week"===o?"Day":"month"===o?"Date":"Month"),style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}},yaxis:{show:!0,showAlways:!0,labels:{show:!0},title:{text:"Leagues",style:{fontSize:"15px",fontFamily:"'Roboto',sans-serif",fontWeight:600}}}}),series:[{name:"Leagues",data:w},{name:"Active Leagues",data:k}]})})]})})})},K=function(){var e,t=(0,s.useState)([]),n=(0,a.Z)(t,2),i=n[0],c=n[1],u=(0,s.useState)([]),h=(0,a.Z)(u,2),d=h[0],f=h[1],g=(0,s.useState)([]),x=(0,a.Z)(g,2),p=x[0],m=x[1],v=(0,s.useState)([]),y=(0,a.Z)(v,2),j=y[0],w=y[1],D=(0,s.useState)([]),P=(0,a.Z)(D,2),A=P[0],z=P[1],S=(0,s.useState)(""),k=(0,a.Z)(S,2),F=k[0],M=k[1],L=(0,s.useState)([]),C=(0,a.Z)(L,2),W=C[0],U=C[1],R=(0,s.useState)(0),I=(0,a.Z)(R,2),O=(I[0],I[1]);(0,s.useEffect)((function(){J(),N(),H(),q(),G()}),[]),(0,s.useEffect)((function(){var e=Q.ZP.firestore().collection("Lobby").onSnapshot(function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.docs.map((function(e){return e.data()})),r=n.map((function(e){return null!==e&&void 0!==e&&e.numOfPlayerInQuiz?null===e||void 0===e?void 0:e.numOfPlayerInQuiz:0})).reduce((function(e,t){return e+t})),O(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Q.ZP.firestore().collection("Quizzes").where("type","==","Live Quiz").get().then(function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,a,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.docs.map((function(e){return e.data()})),e.next=3,G();case 3:r=e.sent,a=function(e){var t=r.filter((function(t){return t.uid==e}));return t.length>0?t[0]:null},i=[],n.forEach((function(e){if(e.createdBy){var t=a(e.createdBy);t&&i.push(t)}})),s=i.filter((function(e,t){return t===i.findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))})),console.log("online",s),U(s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})),function(){return e()}}),[]);var J=function(){Q.ZP.firestore().collection("QuizLeague").where("leagueType","==","private").where("isRejected","==",!1).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));c(t)})).catch((function(e){return console.log(e)}))},N=function(){Q.ZP.firestore().collection("QuizLeague").get().then((function(e){var t=e.docs.map((function(e){return e.data()})).filter((function(e){return"private"!==e.leagueType}));f(t)})).catch((function(e){return console.log(e)}))},H=function(){Q.ZP.firestore().collection("QuizLeague").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));m(t)})).catch((function(e){return console.log(e)}))},q=function(){Q.ZP.firestore().collection("Quizzes").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));w(t)})).catch((function(e){return console.log(e)}))},G=function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Q.ZP.firestore().collection("Users"),e.next=4,t.get();case 4:return n=e.sent.docs.map((function(e){return e.data()})).filter((function(e){return!e.isAdmin})),z(n),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,lg:4,md:6,sm:6,xs:12,children:(0,Z.jsx)(b,{toogleMode:function(e){return M(e)},btn1:j.length,btn2:p.length,btn1Text:"Standalone Quiz",btn2Text:"League Quiz",cardText:"Quizzes",isLoading:!(j.length>0)})}),(0,Z.jsx)(l.ZP,{item:!0,lg:4,md:6,sm:6,xs:12,children:(0,Z.jsx)(b,{toogleMode:function(e){return M(e)},isLoading:!(d.length>0),btn1:i.length,btn2:d.length,btn1Text:"Private Leagues",btn2Text:"Public Leagues",cardText:"Leagues"})}),(0,Z.jsx)(l.ZP,{item:!0,lg:4,md:12,sm:12,xs:12,children:(0,Z.jsxs)(l.ZP,{container:!0,spacing:Y.dv,children:[(0,Z.jsx)(l.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:(0,Z.jsx)(T,{isLoading:!(A.length>0),users:A,onlineUsers:null!==(e=W.length)&&void 0!==e?e:0,toogleMode:function(e){return M(e)}})}),(0,Z.jsx)(l.ZP,{item:!0,sm:6,xs:12,md:6,lg:12,children:(0,Z.jsx)(E,{isLoading:!1})})]})})]})}),(0,Z.jsx)(l.ZP,{item:!0,xs:12,children:(0,Z.jsx)(l.ZP,{container:!0,spacing:Y.dv,children:(0,Z.jsx)(l.ZP,{item:!0,xs:12,md:8,children:function(){if("quizes"===F){if(j.length>0)return(0,Z.jsx)(B,{isLoading:!1,quizes:j})}else if("leagues"===F){if(p.length>0)return(0,Z.jsx)($,{isLoading:!1,leagues:p})}else if(A.length>0)return(0,Z.jsx)(_,{isLoading:!1,users:A,onlineUsers:W})}()})})})]})}}}]);
//# sourceMappingURL=655.2edd714c.chunk.js.map