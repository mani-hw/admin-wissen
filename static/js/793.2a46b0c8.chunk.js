"use strict";(self.webpackChunkwissen_dashboard=self.webpackChunkwissen_dashboard||[]).push([[793],{8393:function(e,n,t){var r=t(7414),i=t(184);n.Z=function(){return(0,i.jsx)(r.Z,{direction:"row",justifyContent:"space-between"})}},9793:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(1153),i=t(4721),s=t(3914),l=t(5290),a=t(8393),c=t(1413),u=t(5861),o=t(9439),d=t(6459),x=t(4687),m=t.n(x),h=t(3967),Z=t(5193),f=t(1554),p=t(3006),j=t(5849),g=t(6314),v=t(5363),b=t(2861),P=t(4701),y=t(7196),z=t(2626),Q=t(1134),k=t(4969),S=t(2791),C=t(4975),w=t(6871),T=t(3504),q=t(4453),R=t(2426),I=t.n(R),L=t(184),O=function(e){var n=Object.assign({},((0,d.Z)(e),e)),t=(0,S.useState)(!1),i=(0,o.Z)(t,2),s=i[0],l=i[1],a=(0,S.useState)(!1),x=(0,o.Z)(a,2),R=x[0],O=x[1],W=(0,S.useState)([]),U=(0,o.Z)(W,2),D=U[0],H=U[1],F=(0,S.useState)([]),V=(0,o.Z)(F,2),B=V[0],E=V[1],Y=(0,S.useState)(!1),_=(0,o.Z)(Y,2),A=_[0],G=_[1],J=(0,S.useState)(""),K=(0,o.Z)(J,2),M=K[0],N=K[1],X=(0,S.useState)(null),$=(0,o.Z)(X,2),ee=$[0],ne=$[1],te=(0,S.useState)(!1),re=(0,o.Z)(te,2),ie=re[0],se=re[1],le=(0,w.s0)(),ae=(0,h.Z)(),ce=(0,Z.Z)(ae.breakpoints.down("md")),ue=(0,T.lr)(),oe=(0,o.Z)(ue,1)[0].get("league"),de=(C.ZP.firestore().collection("Users"),(0,Q.cI)({mode:"all"})),xe=de.handleSubmit,me=de.formState.errors,he=de.control,Ze=function(){var e=(0,u.Z)(m().mark((function e(){var n,t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.ZP.firestore().collection("Config").get();case 3:n=e.sent.docs.map((function(e){return e.data()})),t=n[1].Topics,H(t.map((function(e){return{label:e.name,value:e.name}}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){Ze()}),[]);var fe=function(){var e=(0,u.Z)(m().mark((function e(n){var t,r,i,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==B.length){e.next=4;break}return O(!0),e.abrupt("return");case 4:if(null!==ee){e.next=7;break}return G(!0),e.abrupt("return");case 7:if(0!==M.length){e.next=10;break}return se(!0),e.abrupt("return");case 10:return l(!0),t=I()().valueOf(),n.genre=B.map((function(e){return e.label})),n.id=t.toString(),n.createdAt=I()().valueOf(),n.type=M,r=(0,q.iH)((0,q.cF)(),"/Quizzes/".concat(ee.name)),e.next=19,(0,q.KV)(r,ee);case 19:return i=e.sent,e.next=22,(0,q.Jt)(i.ref);case 22:if(s=e.sent,n.Img=s,!oe){e.next=31;break}return e.next=27,C.ZP.firestore().collection("Quizzes").doc(t.toString()).set(n);case 27:return e.next=29,C.ZP.firestore().collection("QuizLeague").doc(oe).update({quizzes:C.ZP.firestore.FieldValue.arrayUnion(t.toString())},{merge:!0});case 29:e.next=33;break;case 31:return e.next=33,C.ZP.firestore().collection("Quizzes").doc(t.toString()).set(n);case 33:l(!1),le("/allquestions?quiz=".concat(t.toString())),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(0),l(!1),console.log(e.t0);case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(n){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(r.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2}),s?(0,L.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:(0,L.jsx)(f.Z,{})}):(0,L.jsxs)("form",(0,c.Z)((0,c.Z)({noValidate:!0,onSubmit:xe(fe)},n),{},{children:[(0,L.jsxs)(r.ZP,{container:!0,spacing:ce?0:2,children:[(0,L.jsxs)(r.ZP,{item:!0,xs:12,sm:6,children:[(0,L.jsx)(Q.Qr,{name:"title",control:he,rules:{required:"Title is required.",minLength:{value:5,message:"Title should be min 5 letter"}},render:function(e){var n=e.field;return(0,L.jsx)(p.Z,(0,c.Z)({fullWidth:!0,label:"Quiz Title",margin:"normal"},n))}}),me.title&&(0,L.jsx)("span",{style:{color:"red"},children:me.title.message})]}),(0,L.jsxs)(r.ZP,{item:!0,xs:12,sm:6,children:[(0,L.jsx)(Q.Qr,{name:"detail",control:he,rules:{required:"Description is required",minLength:{value:5,message:"Description should be min 5 letter"}},render:function(e){var n=e.field;return(0,L.jsx)(p.Z,(0,c.Z)({fullWidth:!0,label:"Quiz Description",margin:"normal"},n))}}),me.detail&&(0,L.jsx)("span",{style:{color:"red"},children:me.detail.message})]})]}),(0,L.jsxs)(r.ZP,{container:!0,spacing:ce?0:2,children:[(0,L.jsxs)(r.ZP,{item:!0,xs:12,sm:6,children:[(0,L.jsx)(Q.Qr,{name:"Rules",control:he,rules:{required:"Rules is required",minLength:{value:5,message:"Rules should be min 5 letter"}},render:function(e){var n=e.field;return(0,L.jsx)(p.Z,(0,c.Z)({fullWidth:!0,label:"Quiz Rules",margin:"normal"},n))}}),me.Rules&&(0,L.jsx)("span",{style:{color:"red"},children:me.Rules.message})]}),(0,L.jsxs)(r.ZP,{item:!0,sm:6,xs:12,sx:{marginTop:"15px"},children:[(0,L.jsxs)(j.Z,{component:"label",variant:"outlined",size:"large",sx:{borderRadius:"10px",height:"52px"},fullWidth:!0,children:["Upload Cover Image",(0,L.jsx)("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){return ne(e.target.files[0])}})]}),A&&(0,L.jsx)("span",{style:{color:"red"},children:"Cover image is required."})]}),ee?(0,L.jsx)(r.ZP,{item:!0,sm:12,xs:12,md:12,sx:{marginTop:"15px"},children:(0,L.jsx)("div",{children:(0,L.jsx)("img",{style:{height:150,width:"100%"},alt:"cover",src:URL.createObjectURL(ee)})})}):(0,L.jsx)("div",{})]}),(0,L.jsxs)(r.ZP,{container:!0,spacing:ce?0:2,children:[(0,L.jsxs)(r.ZP,{item:!0,sm:12,children:[(0,L.jsx)(g.Z,{disablePortal:!0,id:"combo-box-demo",multiple:!0,value:B,options:D,onChange:function(e,n){E(null===n?[]:n)},renderInput:function(e){return(0,L.jsx)(p.Z,(0,c.Z)((0,c.Z)({},e),{},{label:"Quiz Topic Tags",margin:"normal"}))}}),R&&(0,L.jsx)("span",{style:{color:"red"},children:"Quiz Topic is required"})]}),(0,L.jsxs)(r.ZP,{item:!0,sm:12,children:[(0,L.jsxs)(v.Z,{margin:"normal",fullWidth:!0,children:[(0,L.jsx)(b.Z,{id:"demo-multiple-checkbox-label",children:"Quiz Type"}),(0,L.jsxs)(P.Z,{labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",value:M,onChange:function(e){return N(e.target.value)},input:(0,L.jsx)(y.Z,{label:"Select Type"}),children:[(0,L.jsx)(z.Z,{value:"Live Quiz",children:"Live Quiz"}),(0,L.jsx)(z.Z,{value:"Play at Your Own Time Quiz",children:"Play at Your Own Time Quiz"}),(0,L.jsx)(z.Z,{value:"Scheduled Quiz",children:"Scheduled Quiz"})]})]}),ie&&(0,L.jsx)("span",{style:{color:"red"},children:"Type is required"})]})]}),(0,L.jsx)(r.ZP,{sx:{display:"flex",justifyContent:"center",marginTop:"15px"},children:(0,L.jsx)(k.Z,{children:(0,L.jsx)(j.Z,{disableElevation:!0,sx:{width:200,background:"#B92136"},size:"large",type:"submit",variant:"contained",children:"Create"})})})]}))]})},W=t(4015),U=function(){return(0,L.jsx)(W.Z,{title:"Create Quiz",navigation:"/quizzes",children:(0,L.jsx)(s.Z,{children:(0,L.jsxs)(r.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"20vh"},children:[(0,L.jsx)(r.ZP,{item:!0,xs:12,children:(0,L.jsx)(r.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,L.jsx)(r.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,L.jsx)(l.Z,{children:(0,L.jsxs)(r.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,L.jsx)(r.ZP,{item:!0,xs:12,children:(0,L.jsx)(O,{})}),(0,L.jsx)(r.ZP,{item:!0,xs:12,children:(0,L.jsx)(i.Z,{})})]})})})})}),(0,L.jsx)(r.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,L.jsx)(a.Z,{})})]})})})}},5290:function(e,n,t){var r=t(1413),i=t(5987),s=t(4554),l=t(4015),a=t(184),c=["children"];n.Z=function(e){var n=e.children,t=(0,i.Z)(e,c);return(0,a.jsx)(l.Z,(0,r.Z)((0,r.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},t),{},{children:(0,a.jsx)(s.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})}))}},3914:function(e,n,t){var r=(0,t(6934).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}}));n.Z=r}}]);
//# sourceMappingURL=793.2a46b0c8.chunk.js.map